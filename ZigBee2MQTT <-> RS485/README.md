## Модем Zigbee <-> RS485
**Please, let me know if you need documentation in English.**  
<img src="https://raw.githubusercontent.com/MenshikovDmitry/ha-mercury-200-integration/master/images/zigbee2RS485.png">    

Модем взаимодейвтвует с электросчетчиком посредствам интерфейса RS485 и, по сути, просто перебрасывает сообщения между Zigbee2mqtt и RS-485. Подготовка сообщений, расчет контрольных сумм а также расшифровка сообщений от счетчика электроэнергии производится интеграцией HomeAssistant.  
Модем может использоваться для коммуникации и с другими устройствами, поддерживающими RS485. Подробнее: в документации [PTVO](https://ptvo.info/zigbee-configurable-firmware-features/uart/).

Для самостоятельного изготовления прилагается файл Gerber и файл прошивки.  Прошивка собрана с использованием  того же конфигуратора PTVO.

**ВНИМАНИЕ!** Автор **НЕ ПОЗВОЛЯЕТ** Использование материалов этого репозитория для производства изделий "на продажу". Ограничений на личное использование - нет.  

Наполнение платы:  

| **Элемент**   | **Детали**                     | **Дополнительно**                                                                                                                                                                                       |
|---------------|--------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| корпус        | 80 x 50 x 26 mm                | https://aliexpress.ru/item/1005002656761229.html?gatewayAdapt=glo2rus&sku_id=12000021581992878&spm=a2g0s.12269583.0.0.449365c5f1uGvw                                                                    |
| R1            | 0603    120-150 Oм             |                                                                                                                                                                                                         |
| R2            | 0603    20 K                   | Токо-ограничительный резистор для LED1 (c 3.3v). номинал зависит от самого LED                                                                                                                          |
| R3            | 0603    40 K                   | Токо-ограничительный резистор для LED2 (c 5v). номинал зависит от самого LED                                                                                                                            |
| LED1, LED2    | 0603 LED                       | https://www.aliexpress.com/snapshot/0.html?spm=a2g39.orderdetails.order_info.3.2fc04aa6nsoovN&orderId=5023789075008324&productId=1206456185&_ga=2.114024647.1929587467.1658579935-1589334786.1644855460 |
| C1, C2        | 0603 22 мкФ                    | В ДШ рекомендуют танталовые, у меня керамика. Полет нормальный                                                                                                                                          |
| U4            | AMS1117 3.3                    |                                                                                                                                                                                                         |
| U3            | TTL <-> RS485                  | https://aliexpress.ru/item/1005001621746811.html?_ga=2.121760331.1929587467.1658579935-1589334786.1644855460&mp=1&sku_id=12000016846569467&spm=a2g2w.cart.0.0.56b24aa6uDrBQX                            |
| U5            | PM01  5в                       | https://aliexpress.ru/item/32408565688.html?gatewayAdapt=glo2rus&sku_id=65785647287&spm=a2g0s.12269583.0.0.50555ecdkJ4iPv                                                                               |
| KF1           | KF301-2P                       | колодка 220v                                                                                                                                                                                            |
| колодка RS485 | KF141R 4PIN                    |                                                                                                                                                                                                         |
| SW1           | KLS7-TS3401                    | https://sl.aliexpress.ru/p?key=N50rSm                                                                                                                                                                   |
| zigbee        | EBYTE E18-MS1-PCB, E18-MS1-IPX |                                                                                                                                                                                                         |

